<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic Page Settings -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookNest - Home</title>

    <!-- Semantic UI CSS (for styling) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">

    <!-- Custom Stylesheet -->
    <link rel="stylesheet" href="/css/home.css">

    <!-- jQuery and Semantic UI JavaScript -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>
</head>

<body>

<!-- Top Navigation Bar -->
<div class="ui menu">
    <div class="ui container">

        <!-- Mobile menu icon for small screens -->
        <div class="mobile-menu-icon">
            <i class="bars icon" id="mobile-menu-toggle"></i>
        </div>

        <!-- Logo -->
        <div class="nav-logo-container">
            <img src="/images/logo-beige.png" alt="BookNest Logo" class="nav-logo">
        </div>

        <!-- Navigation Links -->
        <div class="menu-items">
            <a href="/home/{{email}}" class="item">Home</a>
            <a href="/Discover/{{email}}" class="item">Discover</a>
            <a href="/nobel/{{email}}" class="item">Nobel Prize</a>
            <a href="/profile/{{email}}" class="item">Profile</a>
        </div>

        <!-- Sign out Button -->
        <div class="right menu">
            <div class="item">
                <button class="ui small button" id="signout-btn">
                    <a href="/joinbooknest">Sign out</a>
                </button>
            </div>
        </div>

    </div>
</div>

<!-- Banner Image -->
<div class="banner-image">
    <img src="/images/home-image.jpg" alt="BookNest Banner">
</div>

<!-- Background Video Section -->
<div class="video-section">
    <div class="video-wrapper narrow">
        <iframe
                src="https://player.vimeo.com/video/1068474918?autoplay=1&muted=1&loop=1&background=1"
                frameborder="0"
                allow="autoplay; fullscreen; picture-in-picture"
                allowfullscreen
                title="BookNest-BannerVideo">
        </iframe>
    </div>
</div>

<!-- Main Content -->
<div class="ui container">
    <div class="ui stackable grid">

        <div class="row" style="align-items: stretch;">
            <div class="twelve wide column">

                <!-- Section: All Books -->
                <div class="book-section">
                    <h2>All Books</h2>
                    <div class="book-list">
                        {{#allBooks}}
                            <a href="/book/{{email}}/{{id}}" class="book-card">
                                <img src="{{thumbnailUrl}}" alt="Book Cover"
                                     onerror="this.onerror=null; this.src='https://covers.openlibrary.org/b/isbn/{{isbn}}-M.jpg';">
                                <p>{{title}} by {{author}}</p>
                                <span class="genre-badge genre-{{genre.toLowerCase}}">{{genre}}</span>
                            </a>
                        {{/allBooks}}
                    </div>
                </div>

                <!-- Section: Thrillers -->
                <div class="book-section">
                    <h2>Thrillers You Must Read</h2>
                    <div class="book-list">
                        {{#thrillers}}
                            <a href="/book/{{email}}/{{id}}" class="book-card">
                                <img src="{{thumbnailUrl}}" alt="Book Cover"
                                     onerror="this.onerror=null; this.src='https://covers.openlibrary.org/b/isbn/{{isbn}}-M.jpg';">
                                <p>{{title}} by {{author}}</p>
                                <span class="genre-badge genre-{{genre.toLowerCase}}">{{genre}}</span>
                            </a>
                        {{/thrillers}}
                    </div>
                </div>

                <!-- Section: New Releases -->
                <div class="book-section">
                    <h2>New Releases This Year</h2>
                    <div class="book-list">
                        {{#newReleases}}
                            <a href="/book/{{email}}/{{id}}" class="book-card">
                                <img src="{{thumbnailUrl}}" alt="Book Cover"
                                     onerror="this.onerror=null; this.src='https://covers.openlibrary.org/b/isbn/{{isbn}}-M.jpg';">
                                <p>{{title}} by {{author}}</p>
                                <span class="genre-badge genre-{{genre.toLowerCase}}">{{genre}}</span>
                            </a>
                        {{/newReleases}}
                    </div>
                </div>

                <!-- Section: 20th Century Best Books -->
                <div class="book-section">
                    <h2>Best Books of the 20th Century</h2>
                    <div class="book-list">
                        {{#twentiethCentury}}
                            <a href="/book/{{email}}/{{id}}" class="book-card">
                                <img src="{{thumbnailUrl}}" alt="Book Cover"
                                     onerror="this.onerror=null; this.src='https://covers.openlibrary.org/b/isbn/{{isbn}}-M.jpg';">
                                <p>{{title}} by {{author}}</p>
                                <span class="genre-badge genre-{{genre.toLowerCase}}">{{genre}}</span>
                            </a>
                        {{/twentiethCentury}}
                    </div>
                </div>

                <!-- Section: Memoirs -->
                <div class="book-section">
                    <h2>Best Memoir/Biography</h2>
                    <div class="book-list">
                        {{#memoirs}}
                            <a href="/book/{{email}}/{{id}}" class="book-card">
                                <img src="{{thumbnailUrl}}" alt="Book Cover"
                                     onerror="this.onerror=null; this.src='https://covers.openlibrary.org/b/isbn/{{isbn}}-M.jpg';">
                                <p>{{title}} by {{author}}</p>
                                <span class="genre-badge genre-{{genre.toLowerCase}}">{{genre}}</span>
                            </a>
                        {{/memoirs}}
                    </div>
                </div>

            </div>

            <!-- Sidebar Section -->
            <div class="four wide column sidebar">
                <h3 class="ui header">Fun Facts About Books & Authors</h3>
                <p>{{funFact.fact}}</p>

                <h3 class="ui header">Upcoming Releases</h3>
                <ul>
                    {{#upcoming}}
                        <li>{{title}} â€“ {{publicationDate}}</li>
                    {{/upcoming}}
                </ul>

                <h3 class="ui header">Quote of the Day</h3>
                <blockquote>"{{quote.text}}" - {{quote.author}}</blockquote>

                <h3 class="ui header">Reading Tips</h3>
                <ul style="padding-left: 18px;">
                    <li>Read 10 pages a day â€” thatâ€™s 12 books a year!</li>
                    <li>Use sticky notes to mark favorite quotes</li>
                    <li>Try audiobooks during walks or chores</li>
                    <li>Join a virtual book club to stay motivated</li>
                </ul>

                <h3 class="ui header">Why Reading Matters ðŸ¤Ž</h3>
                <p>Books improve focus, boost creativity, reduce stress, and build empathy. Even a few pages a day makes a difference ðŸ“–ðŸŒ±</p>
            </div>

        </div>

    </div>
</div>

<!-- Login Modal -->
<div class="ui modal" id="login-modal">
    <div class="header">Login</div>
    <div class="content">
        <form class="ui form" method="post" action="/home/login">
            <div class="field">
                <label>Email</label>
                <input type="email" placeholder="Enter your email">
            </div>
            <div class="field">
                <label>Password</label>
                <input type="password" placeholder="Enter your password">
            </div>
            <button class="ui button primary" type="submit" style="background-color: #d1bfa7 !important; color: #3a2e1f !important;">Login</button>
        </form>
    </div>
</div>

<!-- Signup Modal -->
<div class="ui modal" id="signup-modal">
    <div class="header">Signup</div>
    <div class="content">
        <form method="post" action="/home/signup" class="ui form" enctype="multipart/form-data">
            <div class="field">
                <label for="name">Display Name</label>
                <input type="text" name="displayName" placeholder="Enter your name">
            </div>
            <div class="field">
                <label for="username">Username</label>
                <input type="text" name="username" placeholder="Enter your username">
            </div>
            <div class="field">
                <label for="bio">Bio</label>
                <input type="text" name="bio" placeholder="Enter your bio">
            </div>
            <div class="field">
                <label for="email">Email</label>
                <input type="email" name="email" placeholder="Enter your email">
            </div>
            <div class="field">
                <label for="password">Password</label>
                <input type="password" name="password" placeholder="Create a password">
            </div>
            <div class="field">
                <label for="profilepicture">Select a Profile Picture</label>
                <input type="file" name="profilepicture" accept="image/*">
            </div>
            <button class="ui button primary" type="submit">Signup</button>
        </form>
    </div>
</div>

<!-- Footer Section -->
<footer class="ui inverted footer sixteen wide column">
    <div class="ui container" style="padding-top: 50px">
        <div class="ui stackable divided equal height grid">

            <!-- Social Media Links -->
            <div class="four wide column">
                <h4 class="ui inverted header">Connect With Us</h4>
                <div class="ui inverted link list">
                    <a href="#" class="item"><i class="facebook icon"></i> Facebook</a>
                    <a href="#" class="item"><i class="twitter icon"></i> Twitter</a>
                    <a href="#" class="item"><i class="instagram icon"></i> Instagram</a>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="four wide column">
                <h4 class="ui inverted header">Contact Us</h4>
                <p>Email: booknest@gmail.com</p>
                <p>Phone: +123 456 7890</p>
            </div>

            <!-- Newsletter Signup -->
            <div class="eight wide column">
                <h4 class="ui inverted header">Newsletter</h4>
                <p>Subscribe for updates on new book releases.</p>

                <form action="/subscribe/{{email}}" method="post" class="ui action input" style="width: 100%;">
                    <input type="email" name="newsletteremail" placeholder="Your email..." required>
                    <button class="ui button" type="submit">Subscribe</button>
                </form>
            </div>

            <!-- Subscription Feedback Modal -->
            <div class="ui modal" id="subscription-modal">
                <div class="header" id="modal-header">Subscription</div>
                <div class="content">
                    <p id="modal-message">Thanks for subscribing!</p>
                </div>
                <div class="actions">
                    <div class="ui approve button">OK</div>
                </div>
            </div>

        </div>

        <!-- Footer Bottom -->
        <div class="ui center aligned container" style="padding-top: 20px;">
            <p>&#xa9; 2025 BookNest. All rights reserved.</p>
        </div>

    </div>
</footer>

<!-- JavaScript for UI Actions -->
<script>
    $(document).ready(function() {

        // Toggle mobile menu on small screens
        $("#mobile-menu-toggle").click(function() {
            $(".menu-items").toggleClass("active");
        });

        // Show modal when subscribing
        const subscribed = '{{#subscribed}}true{{/subscribed}}';
        const subscribeFailed = '{{#subscribeFailed}}true{{/subscribeFailed}}';

        if (subscribed === 'true') {
            $('#modal-header').text("You're Subscribed!");
            $('#modal-message').text("Thanks for subscribing to BookNest ðŸŽ‰");
            $('#subscription-modal').modal('show');
        }

        if (subscribeFailed === 'true') {
            $('#modal-header').text("Already Subscribed");
            $('#modal-message').text("You're already on our list ðŸ˜Š No need to subscribe again.");
            $('#subscription-modal').modal('show');
        }

    });
</script>

</body>
</html>
